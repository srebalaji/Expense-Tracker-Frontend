<html>
	<head>
		<title>Expense Tracker</title>
		<link rel="stylesheet" href="assets/simple-chart.css">
		<link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.min.css"/>
		<style type="text/css">
			#list input.edit,
			#list #expense_edit_title,
			#list #expense_edit_amount,
			#list #update_expense_details,
			#list #expense_categories_update,
			 #list #cancel{
			  display: none; /* Hides input box*/
			}
			#list .editing h4 {
			  display: none; /* Hides label text when .editing*/
			}
			#list .editing input.edit {
			  display: inline; /* Shows input text box when .editing*/
			}
			#list .expense_editing #expense_title,
			#list .expense_editing #expense_amount,
			#list .expense_editing #edit_expense_details,
			#list .expense_editing #expense_categories {
				display: none;
			}
			#list .expense_editing #expense_edit_title, 
			#list .expense_editing #expense_edit_amount,
			#list .expense_editing #update_expense_details,
			#list .expense_editing #expense_categories_update,
			#list .expense_editing #cancel {
				display: inline;
			}
			.show {
				display:inline;
			}
			.hide {
				display: none;
			}
		</style>
	</head>
	<body>
		<div class="chart-container"></div>
		<div id="con">
		
			<a href="/#category">Category</a>
			<a href="/#report">Report</a>
			<div id="category_page">
				<div id="category">
				</div>
				<input type="text" id="add_category" placeholder="Add category">
			</div>
			<br><br>
			<div id="expense_page">
				<input type="text" id="add_expense_title" placeholder="Add expense title">
				<input type="text" id="add_expense_amount" placeholder="Add expense amount">
				<select class="categories_lists" multiple="true">
					
				</select>
				<button id="add_expense">Add expense</button>
			</div>
			<ul id="list"></ul>
		</div>

		<!-- category -->
		<script type="text/template" id="category_template">
			<div class="categories">
				<h4><%= title %></h4>
				<input class="edit" value="<%= title %>">
				<button class="destroy">remove</button>
			</div>
		</script>

		<!-- expense -->
		<script type="text/template" id="expense_template">

			<div class="expenses">
				<h4 id="expense_title"><%= model.title %></h4>  <button id="edit_expense_details">Edit</button>
				
				<h6 id="expense_amount"><%= model.amount %></h6>
				<input id="expense_edit_title" value="<%= model.title %>">
				<input id="expense_edit_amount" value="<%= model.amount %>">
				
				<ul id="expense_categories">
					<% _.each(model.categories, function(category){ %>
					<li><%= category.title %></li>
					<%});%>
				</ul>

				<select class="categories_lists" id="expense_categories_update" multiple="true">
					<% _.each(categories, function(category){ %>
					<option value='{"id": "<%= category.get("_id")%>","title": "<%= category.get("title")%>"}' <%= present_categories.includes(category.get("_id")) ? 'selected' : ''%> ><%= category.get('title') %></option>
					<%});%>
				</select>
				<button id="update_expense_details">Update</button>
				<button id="cancel">Cancel Update</button>
			</div>
		</script>

		<!-- Report -->
		<script type="text/template" id="report_template">
			<% $('.chart-container').simpleChart({
          title: {
              text: 'Daily Stats against categories',
              align: 'center'
          },
          type: 'bar',
          layout: {
              width: '100%',
              height: '250px'
          },
          item: {
              label: labels,
              value: values,
              outputValue: values,
              color: ['#00aeef'],
              prefix: '',
              suffix: ' expense(s)',
              render: {
                  margin: 0.2,
                  size: 'relative'
              }
          }
        }); %>
		</script>
		<script src="node_modules/jquery/dist/jquery.js"></script>
		<script src="node_modules/underscore/underscore.js"></script>
		<script src="node_modules/backbone/backbone.js"></script>
		<script src="assets/simple-chart.js"></script>
		<script src="node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
	</body>
</html>